# Отчет по лабораторной работе №1 (Часть 2)

## Анализ метрик работы программы-нагрузчика `linreg.c`

В рамках выполнения второй части лабораторной работы была проведена профилировка программы-нагрузчика `linreg.c` с использованием инструмента `mpstat`. Цель экспериментов заключалась в анализе производительности программы и профилировании её работы для определения оптимального количества повторений и параллельных экземпляров.

### Эксперимент 1: Определение оптимального количества повторений

В результате выполнения программы с различным количеством повторений были получены данные о пропускной способности (выполнениях программы в секунду) и загрузке CPU в режиме пользователя (USER%). Эти данные визуализированы на графиках `output11.png` и `output12.png`.

- **График `output11.png`:** Пропускная способность программы возрастает по мере увеличения количества повторений. Наибольший рост наблюдается при переходе от 10³ к 10⁵ повторений. После достижения 10⁷ повторений прирост пропускной способности стабилизируется.
- **График `output12.png`:** Загрузка CPU (USER%) увеличивается пропорционально числу повторений. После достижения 10⁵ повторений процесс начинает эффективно использовать ресурсы процессора (50% и более), что указывает на высокую эффективность программы.

**Вывод:** Оптимальным числом повторений было выбрано 10⁶, поскольку на этом уровне программа достигает высокой пропускной способности, эффективно использует CPU, и дальнейшее увеличение повторений не приводит к значительному улучшению производительности.

### Эксперимент 2: Определение оптимального числа параллельных экземпляров

После определения оптимального числа повторений (10⁶) был проведён второй эксперимент. Программа запускалась с различным количеством параллельных экземпляров, чтобы определить, как это влияет на пропускную способность и загрузку CPU. Данные визуализированы на графиках `output13.png` и `output14.png`.

- **График `output13.png`:** Пропускная способность быстро возрастает при переходе от 1 к 2 экземплярам и стабилизируется начиная с 2 экземпляров. Это связано с использованием нескольких ядер процессора, что позволяет параллельно обрабатывать задачи.
- **График `output14.png`:** Загрузка CPU достигает 100% при использовании 2 экземпляров и остаётся на этом уровне для большего количества экземпляров. Это указывает на полную загрузку вычислительных ресурсов системы.

**Вывод:** Оптимальным количеством параллельных экземпляров является 2. Увеличение числа экземпляров свыше 2 не приводит к увеличению пропускной способности, поскольку система уже полностью загружена.

### Сравнительный анализ результатов

1. **Ожидаемое поведение:** Ожидалось, что пропускная способность и загрузка CPU будут увеличиваться пропорционально числу повторений и параллельных экземпляров, пока не будет достигнуто насыщение ресурсов системы.
2. **Фактические результаты:** 
   - Программа достигла предела пропускной способности при 10⁶ повторениях и 2 параллельных экземплярах.
   - CPU эффективно использовался, достигая 100% загрузки при использовании нескольких экземпляров.

### Выводы

1. **Эффективность использования ресурсов:** Программа демонстрирует высокую эффективность при использовании оптимального числа повторений (10⁶) и параллельных экземпляров (2).
2. **Рекомендации:** Для дальнейшей оптимизации можно использовать компилятор с агрессивными опциями оптимизации, что позволит уменьшить реальное время выполнения без увеличения нагрузки на CPU.
3. **Профилирование:** Профилирование подтвердило правильность предположений о том, что программа сможет полностью загрузить процессор при использовании нескольких параллельных экземпляров.

### Примечание

- Графики `output11.png`, `output12.png`, `output13.png` и `output14.png` были использованы для визуализации и анализа результатов экспериментов.
- Проведение экспериментов подтверждает работоспособность и корректность реализации программы-нагрузчика `linreg.c` в рамках поставленных задач.
